## Task: Update shell completions with --dry-run flag

**Story:** [005-STORY-docs-and-completions](../stories/005-STORY-docs-and-completions.md)

### Goal
Tab completion in zsh and fish shells should offer `--dry-run` as an option for all applicable ralph commands so users can discover and use the flag without memorizing it.

### Context
Shell completions are generated by `aaa completion zsh` and `aaa completion fish` commands. The completion scripts are defined in `tools/src/commands/completion/zsh.ts` and `fish.ts`. These scripts use the command table pattern to define available options per command. The `--dry-run` flag is already implemented on 8 ralph commands (build, plan stories/tasks/subtasks/roadmap, calibrate all/intention/technical), but completions weren't updated yet. Without completion support, users relying on tab completion won't discover the flag exists.

The completions are static (not dynamic via `aaa __complete`), so we need to manually add the flag to each command's completion definition in both shell generators.

### Plan
1. Read `tools/src/commands/completion/zsh.ts` to understand the completion structure for ralph commands
2. Read `tools/src/commands/completion/fish.ts` to understand fish completion patterns
3. Locate completion definitions for the 8 affected commands:
   - `ralph build` (line ~277-294 in zsh, ~199-216 in fish)
   - `ralph plan stories` (line ~368-378 in zsh, ~247-260 in fish)
   - `ralph plan tasks` (line ~380-393 in zsh, ~262-278 in fish)
   - `ralph plan subtasks` (line ~395-416 in zsh, ~280-302 in fish)
   - `ralph plan roadmap` (line ~360-366 in zsh, ~236-245 in fish)
   - `ralph calibrate` (line ~316-320 in zsh, ~386-392 in fish)
4. Add `--dry-run` flag completion to each command in both zsh.ts and fish.ts
5. Use consistent description: "Preview execution plan without running"
6. For zsh: Add line like `'--dry-run[Preview execution plan without running]' \\`
7. For fish: Add line like `complete -c aaa -n __fish_aaa_ralph_build -l dry-run -d 'Preview execution plan without running'`
8. Verify completions work by sourcing the generated completion script and testing tab completion

### Acceptance Criteria
- [ ] `aaa completion zsh` output includes `--dry-run` for all 8 affected commands
- [ ] `aaa completion fish` output includes `--dry-run` for all 8 affected commands
- [ ] Tab completion in zsh offers `--dry-run` after typing `aaa ralph build --` and pressing tab
- [ ] Tab completion in fish offers `--dry-run` after typing `aaa ralph build --` and pressing tab
- [ ] Description text is consistent with CLI help text
- [ ] Completions follow existing patterns (no syntax errors)

### Test Plan
- [ ] Generate zsh completion: `bun --cwd tools run dev completion zsh > /tmp/test-completion.zsh`
- [ ] Generate fish completion: `bun --cwd tools run dev completion fish > /tmp/test-completion.fish`
- [ ] Manual verification: Search generated files for `--dry-run` on each command
- [ ] Integration test: Source completion script and test tab completion in each shell
- [ ] Count verification: Ensure `--dry-run` appears exactly 8 times in each completion file (once per affected command)

### Scope
- **In:** Adding `--dry-run` flag to existing command completions in zsh.ts and fish.ts
- **In:** Ensuring consistent description text across both shells
- **In:** Following existing completion patterns (static definitions)
- **Out:** Adding bash completions (not currently maintained in this repo)
- **Out:** Adding dynamic completions via `aaa __complete` (flag is static, doesn't need dynamic resolution)
- **Out:** Updating command table (table.ts is for documentation generation, not used by completions)
- **Out:** Testing in actual shell environments (manual verification only)

### Notes
- The completion scripts are templates that generate shell code as strings
- Zsh uses `_arguments` with option definitions in format: `'--flag[description]'`
- Fish uses `complete -c aaa -n <condition> -l flag -d 'description'`
- The `--dry-run` flag has no argument, so it's a simple boolean flag
- Make sure to add the flag in the correct command context (e.g., `__fish_aaa_ralph_build` for fish, within the `build)` case for zsh)
- For ralph calibrate subcommands (all/intention/technical), add to the parent `ralph calibrate` completion section since all subcommands support it
- Completion scripts use escaped backslashes (`\\`) for line continuation in zsh - maintain this pattern

### Related Documentation
- @context/stacks/cli/cli-bun.md
- @context/blocks/construct/commander.md
